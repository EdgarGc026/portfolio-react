import React, { useState, useEffect } from "react"
import { Meta, Story, Canvas, ArgsTable } from "@storybook/addon-docs"
import PageHome from "."

<Meta
  title="Pages/SxPageHome"
  argTypes={{
    name: { table: { disable: true } },
    profession: { table: { disable:true } },
    buttonText: { table: { disable:true } },
    buttonProps: { table: { disable: true } },
    skillArray: { table: { disable: true } },
    description: { table: { disable: true } },
    portfolioArray: { table: {disable: true } },
  }}
/>

<ArgsTable of={PageHome} />

<Canvas>
  <Story name="PageHome">
    {(args) => {
      const [pageHomeData, setPageHomeData] = useState(null)
      useEffect(() => {
        fetch(`/pageHome`)
        .then(response => response.json())
        .then((data) => setPageHomeData(data))
      }, [])
      if(!pageHomeData) {
        return <></>
      }
      return (
        <div>
          <PageHome pageHomeData={pageHomeData} />
        </div>
      )
    }}
  </Story>
</Canvas>