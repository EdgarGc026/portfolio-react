import React,{useState, useEffect } from "react"
import { Meta, Story, Canvas, ArgsTable } from "@storybook/addon-docs"
import Portfolio from "."

<Meta
  title="Basics/CxPortfolio/Portfolio"
  component={Portfolio}
  argTypes={{
    portfolioArray: { table: { disable: true } }
  }}
/>

<ArgsTable of={Portfolio} />

<Canvas>
  <Story name="Portfolio">
    {(args) => {
      const [portfolio, setPortfolio] = useState(null)
      useEffect(() => {
        fetch(`/portfolioComponent`)
        .then(response => response.json())
        .then(data => setPortfolio(data))
      }, [])
      if(!portfolio){
        return <></>
      }
      return(
        <section className="p-[15px] sm:p-[60px] grid-layout">
          <div className="col-span-full row-span-full mb-5">
            <h2 className="mb-5 text-[2.5rem] text-center font-semibold">Portfolio</h2>
              <Portfolio portfolioArray={portfolio} />
          </div>
        </section>
      )
    }}
  </Story>
</Canvas>